{"remainingRequest":"D:\\前端文件\\学习\\html\\vue\\14单文件组件\\helloworld\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\前端文件\\学习\\html\\vue\\14单文件组件\\helloworld\\src\\views\\City.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"D:\\前端文件\\学习\\html\\vue\\14单文件组件\\helloworld\\src\\views\\City.vue","mtime":1646969265843},{"path":"D:\\前端文件\\学习\\html\\vue\\14单文件组件\\helloworld\\node_modules\\css-loader\\index.js","mtime":1646186506496},{"path":"D:\\前端文件\\学习\\html\\vue\\14单文件组件\\helloworld\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1646186530524},{"path":"D:\\前端文件\\学习\\html\\vue\\14单文件组件\\helloworld\\node_modules\\postcss-loader\\src\\index.js","mtime":1646186532765},{"path":"D:\\前端文件\\学习\\html\\vue\\14单文件组件\\helloworld\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646186516921},{"path":"D:\\前端文件\\学习\\html\\vue\\14单文件组件\\helloworld\\node_modules\\vue-loader\\lib\\index.js","mtime":1646186530508}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.van-toast--text{\n\tmin-width: 30px;\n}\n.hotcity-flex{\n\tdisplay: flex;\n\tflex-wrap: wrap;\n}\n.hot-city{\n\twidth: 95px;\n\theight: 30px;\n\tline-height: 30px;\n\tmargin: 10px;\n\tbackground-color: gainsboro;\n\ttext-align: center;\n}\n.hotcity{\n\tfont-size: 13px;\n\tcolor: grey;\n}\n",{"version":3,"sources":["City.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"City.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<div style=\"padding:15px;\">\r\n\t\t\t<div class=\"hotcity\">热门城市</div>\r\n\t\t\t<div class=\"hotcity-flex\">\r\n\t\t\t\t<div v-for=\"item in hotcity\" class=\"hot-city\" @click=\"handleclick(item)\">\r\n\t\t\t\t\t{{item.name}}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<van-index-bar :index-list=\"indexlist\" @select=\"handleChange\">\r\n\t\t\t<div v-for=\"item in citylist\" :key=\"item.type\">\r\n\t\t\t\t<van-index-anchor :index=\"item.type\">{{item.type}}</van-index-anchor>\r\n\t\t\t\t<div v-for=\"data in item.list\" :key=\"data.cityId\">\r\n\t\t\t\t\t<van-cell :title=\"data.name\" @click=\"handleclick(data)\"/>\r\n\t\t\t\t</div> \r\n\t\t\t</div>\r\n\t\t  \r\n\t\t</van-index-bar>\r\n\t</div>\n</template> \n\n<script>\r\n\timport http from '../router/http.js'\r\n\timport {Toast} from 'vant'\r\n\texport default{\r\n\t\tdata(){\r\n\t\t\treturn{\r\n\t\t\t\tcitylist:[],\r\n\t\t\t\tlist:[],\r\n\t\t\t\tindexlist:[],\r\n\t\t\t\thotcity:[]\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted(){\r\n\t\t\thttp({\r\n\t\t\t\turl:'gateway?k=8962251',\r\n\t\t\t\theaders:{\r\n\t\t\t\t\t'X-Host':'mall.film-ticket.city.list'\r\n\t\t\t\t}\r\n\t\t\t}).then(res=>{\r\n\t\t\t\tthis.list=res.data.data.cities\r\n\t\t\t\tthis.renderCity(this.list)\r\n\t\t\t})\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\thandleclick(data){\r\n\t\t\t\t//传统多页面数据传输方案\r\n\t\t\t\t//location.href=\"#/cinemas?cityname=\"+data\r\n\t\t\t\t// cookie,localStorage\r\n\t\t\t\t//单页面方案\r\n\t\t\t\t//中间人模式 bus事件总线 $on $emit\r\n\t\t\t\tconsole.log(data)\r\n\t\t\t\tthis.$store.commit('changeCityName',data.name)\r\n\t\t\t\tthis.$store.commit('changeCityId',data.cityId)\r\n\t\t\t\t\r\n\t\t\t\tthis.$router.back()\r\n\t\t\t},\r\n\t\t\thandleChange(data){\r\n\t\t\t\t//Toast.setDefaultOptions({min-height:50px});\r\n\t\t\t\tToast(data);\r\n\t\t\t},\r\n\t\t\trenderCity(list){\r\n\t\t\t\tvar letterlist=[]\r\n\t\t\t\tfor(let i=65;i<91;i++){\r\n\t\t\t\t\tletterlist.push(String.fromCharCode(i))\t\r\n\t\t\t\t}\r\n\t\t\t\tletterlist.forEach(letter=>{\r\n\t\t\t\t\tvar newlist= list.filter(item=>item.pinyin.substring(0,1).toUpperCase()==letter)\r\n\t\t\t\t\tif(newlist.length!=0){\r\n\t\t\t\t\t\tthis.indexlist.push(letter)\r\n\t\t\t\t\t\tthis.citylist.push({\r\n\t\t\t\t\t\ttype:letter,\r\n\t\t\t\t\t\tlist:newlist\r\n\t\t\t\t\t    })\r\n\t\t\t\t\t}\t\r\n\t\t\t\t})\t \r\n\t\t\t\tthis.hotcity=list.filter(item=>item.isHot==1)\r\n\t\t\t\tconsole.log(this.hotcity)\r\n\t\t\t}\r\n\t\t}\r\n\t}\n</script>\n\n<style>\r\n\t.van-toast--text{\r\n\t\tmin-width: 30px;\r\n\t}\r\n\t.hotcity-flex{\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: wrap;\r\n\t}\r\n\t.hot-city{\r\n\t\twidth: 95px;\r\n\t\theight: 30px;\r\n\t\tline-height: 30px;\r\n\t\tmargin: 10px;\r\n\t\tbackground-color: gainsboro;\r\n\t\ttext-align: center;\r\n\t}\r\n\t.hotcity{\r\n\t\tfont-size: 13px;\r\n\t\tcolor: grey;\r\n\t}\n</style>\n"]}]}