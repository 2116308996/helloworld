{"remainingRequest":"D:\\前端文件\\学习\\html\\vue\\14单文件组件\\helloworld\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\前端文件\\学习\\html\\vue\\14单文件组件\\helloworld\\src\\views\\City.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\前端文件\\学习\\html\\vue\\14单文件组件\\helloworld\\src\\views\\City.vue","mtime":1646969265843},{"path":"D:\\前端文件\\学习\\html\\vue\\14单文件组件\\helloworld\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646186516921},{"path":"D:\\前端文件\\学习\\html\\vue\\14单文件组件\\helloworld\\node_modules\\babel-loader\\lib\\index.js","mtime":1646186533210},{"path":"D:\\前端文件\\学习\\html\\vue\\14单文件组件\\helloworld\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646186516921},{"path":"D:\\前端文件\\学习\\html\\vue\\14单文件组件\\helloworld\\node_modules\\vue-loader\\lib\\index.js","mtime":1646186530508}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport http from '../router/http.js'\nimport {Toast} from 'vant'\nexport default{\n\tdata(){\n\t\treturn{\n\t\t\tcitylist:[],\n\t\t\tlist:[],\n\t\t\tindexlist:[],\n\t\t\thotcity:[]\n\t\t}\n\t},\n\tmounted(){\n\t\thttp({\n\t\t\turl:'gateway?k=8962251',\n\t\t\theaders:{\n\t\t\t\t'X-Host':'mall.film-ticket.city.list'\n\t\t\t}\n\t\t}).then(res=>{\n\t\t\tthis.list=res.data.data.cities\n\t\t\tthis.renderCity(this.list)\n\t\t})\n\t},\n\tmethods:{\n\t\thandleclick(data){\n\t\t\t//传统多页面数据传输方案\n\t\t\t//location.href=\"#/cinemas?cityname=\"+data\n\t\t\t// cookie,localStorage\n\t\t\t//单页面方案\n\t\t\t//中间人模式 bus事件总线 $on $emit\n\t\t\tconsole.log(data)\n\t\t\tthis.$store.commit('changeCityName',data.name)\n\t\t\tthis.$store.commit('changeCityId',data.cityId)\n\t\t\t\n\t\t\tthis.$router.back()\n\t\t},\n\t\thandleChange(data){\n\t\t\t//Toast.setDefaultOptions({min-height:50px});\n\t\t\tToast(data);\n\t\t},\n\t\trenderCity(list){\n\t\t\tvar letterlist=[]\n\t\t\tfor(let i=65;i<91;i++){\n\t\t\t\tletterlist.push(String.fromCharCode(i))\t\n\t\t\t}\n\t\t\tletterlist.forEach(letter=>{\n\t\t\t\tvar newlist= list.filter(item=>item.pinyin.substring(0,1).toUpperCase()==letter)\n\t\t\t\tif(newlist.length!=0){\n\t\t\t\t\tthis.indexlist.push(letter)\n\t\t\t\t\tthis.citylist.push({\n\t\t\t\t\ttype:letter,\n\t\t\t\t\tlist:newlist\n\t\t\t\t    })\n\t\t\t\t}\t\n\t\t\t})\t \n\t\t\tthis.hotcity=list.filter(item=>item.isHot==1)\n\t\t\tconsole.log(this.hotcity)\n\t\t}\n\t}\n}\n",{"version":3,"sources":["City.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAuBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"City.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<div style=\"padding:15px;\">\r\n\t\t\t<div class=\"hotcity\">热门城市</div>\r\n\t\t\t<div class=\"hotcity-flex\">\r\n\t\t\t\t<div v-for=\"item in hotcity\" class=\"hot-city\" @click=\"handleclick(item)\">\r\n\t\t\t\t\t{{item.name}}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<van-index-bar :index-list=\"indexlist\" @select=\"handleChange\">\r\n\t\t\t<div v-for=\"item in citylist\" :key=\"item.type\">\r\n\t\t\t\t<van-index-anchor :index=\"item.type\">{{item.type}}</van-index-anchor>\r\n\t\t\t\t<div v-for=\"data in item.list\" :key=\"data.cityId\">\r\n\t\t\t\t\t<van-cell :title=\"data.name\" @click=\"handleclick(data)\"/>\r\n\t\t\t\t</div> \r\n\t\t\t</div>\r\n\t\t  \r\n\t\t</van-index-bar>\r\n\t</div>\n</template> \n\n<script>\r\n\timport http from '../router/http.js'\r\n\timport {Toast} from 'vant'\r\n\texport default{\r\n\t\tdata(){\r\n\t\t\treturn{\r\n\t\t\t\tcitylist:[],\r\n\t\t\t\tlist:[],\r\n\t\t\t\tindexlist:[],\r\n\t\t\t\thotcity:[]\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted(){\r\n\t\t\thttp({\r\n\t\t\t\turl:'gateway?k=8962251',\r\n\t\t\t\theaders:{\r\n\t\t\t\t\t'X-Host':'mall.film-ticket.city.list'\r\n\t\t\t\t}\r\n\t\t\t}).then(res=>{\r\n\t\t\t\tthis.list=res.data.data.cities\r\n\t\t\t\tthis.renderCity(this.list)\r\n\t\t\t})\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\thandleclick(data){\r\n\t\t\t\t//传统多页面数据传输方案\r\n\t\t\t\t//location.href=\"#/cinemas?cityname=\"+data\r\n\t\t\t\t// cookie,localStorage\r\n\t\t\t\t//单页面方案\r\n\t\t\t\t//中间人模式 bus事件总线 $on $emit\r\n\t\t\t\tconsole.log(data)\r\n\t\t\t\tthis.$store.commit('changeCityName',data.name)\r\n\t\t\t\tthis.$store.commit('changeCityId',data.cityId)\r\n\t\t\t\t\r\n\t\t\t\tthis.$router.back()\r\n\t\t\t},\r\n\t\t\thandleChange(data){\r\n\t\t\t\t//Toast.setDefaultOptions({min-height:50px});\r\n\t\t\t\tToast(data);\r\n\t\t\t},\r\n\t\t\trenderCity(list){\r\n\t\t\t\tvar letterlist=[]\r\n\t\t\t\tfor(let i=65;i<91;i++){\r\n\t\t\t\t\tletterlist.push(String.fromCharCode(i))\t\r\n\t\t\t\t}\r\n\t\t\t\tletterlist.forEach(letter=>{\r\n\t\t\t\t\tvar newlist= list.filter(item=>item.pinyin.substring(0,1).toUpperCase()==letter)\r\n\t\t\t\t\tif(newlist.length!=0){\r\n\t\t\t\t\t\tthis.indexlist.push(letter)\r\n\t\t\t\t\t\tthis.citylist.push({\r\n\t\t\t\t\t\ttype:letter,\r\n\t\t\t\t\t\tlist:newlist\r\n\t\t\t\t\t    })\r\n\t\t\t\t\t}\t\r\n\t\t\t\t})\t \r\n\t\t\t\tthis.hotcity=list.filter(item=>item.isHot==1)\r\n\t\t\t\tconsole.log(this.hotcity)\r\n\t\t\t}\r\n\t\t}\r\n\t}\n</script>\n\n<style>\r\n\t.van-toast--text{\r\n\t\tmin-width: 30px;\r\n\t}\r\n\t.hotcity-flex{\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: wrap;\r\n\t}\r\n\t.hot-city{\r\n\t\twidth: 95px;\r\n\t\theight: 30px;\r\n\t\tline-height: 30px;\r\n\t\tmargin: 10px;\r\n\t\tbackground-color: gainsboro;\r\n\t\ttext-align: center;\r\n\t}\r\n\t.hotcity{\r\n\t\tfont-size: 13px;\r\n\t\tcolor: grey;\r\n\t}\n</style>\n"]}]}