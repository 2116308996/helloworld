{"remainingRequest":"D:\\前端文件\\学习\\html\\vue\\14单文件组件\\helloworld\\node_modules\\babel-loader\\lib\\index.js!D:\\前端文件\\学习\\html\\vue\\14单文件组件\\helloworld\\src\\router\\index.js","dependencies":[{"path":"D:\\前端文件\\学习\\html\\vue\\14单文件组件\\helloworld\\src\\router\\index.js","mtime":1647003104697},{"path":"D:\\前端文件\\学习\\html\\vue\\14单文件组件\\helloworld\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646186516921},{"path":"D:\\前端文件\\学习\\html\\vue\\14单文件组件\\helloworld\\node_modules\\babel-loader\\lib\\index.js","mtime":1646186533210}],"contextDependencies":[],"result":["import Vue from 'vue';\nimport VueRouter from 'vue-router';\nimport Films from '@/views/Films.vue';\nimport FilmsNowplay from '@/views/films/FilmsNowplay.vue';\nimport FilmsComingsoon from '@/views/films/FilmsComingsoon.vue';\nimport Detail from '@/views/Detail.vue';\nimport Cinemas from '@/views/Cinemas.vue';\nimport CinemasSearch from '@/views/CinemasSearch'; //import Center from '@/views/Center.vue'\n//import Order from '@/views/Order.vue'\n\nimport Login from '@/views/Login.vue';\nVue.use(VueRouter); // 注册路由插件\n//配置表\n\nvar routes = [{\n  path: '/films',\n  component: Films,\n  children: [{\n    path: '/films/nowplay',\n    component: FilmsNowplay\n  }, {\n    path: '/films/comingsoon',\n    component: FilmsComingsoon\n  }, {\n    path: '/films',\n    redirect: '/films/nowplay'\n  }]\n}, {\n  name: 'zhuhuidetail',\n  path: '/detail/:id',\n  //动态路由\n  component: Detail\n}, {\n  path: '/cinemas/search',\n  component: CinemasSearch\n}, {\n  path: '/cinemas',\n  component: Cinemas\n}, {\n  path: '/center',\n  component: function component() {\n    return import(\"@/views/Center.vue\");\n  },\n  //懒加载\n  meta: {\n    iszhuhui: true\n  } //独享路由拦截\n  // beforeEnter:(to,from,next)=>{\n  // \tif(to.meta.iszhuhui){\n  // \t\t// 通过token判断是否以登录\n  // \t\tif(localStorage.getItem('token')){\n  // \t\t\tnext()\n  // \t\t}else{\n  // \t\t\t//console.log(to.fullPath)\n  // \t\t\tnext({\n  // \t\t\t\tpath:'/login',\n  // \t\t\t\tquery:{redirect:to.fullPath}\n  // \t\t\t})\t\t\n  // \t\t}\n  // \t}else{\n  // \t\tnext()\n  // \t}\n  // }\n\n}, {\n  path: '/order',\n  component: function component() {\n    return import(\"@/views/Order.vue\");\n  },\n  meta: {\n    iszhuhui: true\n  }\n}, {\n  path: '/login',\n  component: Login\n}, {\n  path: '*',\n  redirect: '/films/nowplay'\n}];\nvar router = new VueRouter({\n  //mode:\"history\",\n  routes: routes\n}); //全局拦截\n\nrouter.beforeEach(function (to, from, next) {\n  //\tconsole.log(to)\n  if (to.meta.iszhuhui) {\n    // 通过token判断是否以登录\n    if (localStorage.getItem('token')) {\n      next();\n    } else {\n      console.log(to.fullPath);\n      next({\n        path: '/login',\n        query: {\n          redirect: to.fullPath\n        }\n      });\n    }\n  } else {\n    next();\n  }\n});\nexport default router;",{"version":3,"sources":["D:\\前端文件\\学习\\html\\vue\\14单文件组件\\helloworld\\src\\router\\index.js"],"names":["Vue","VueRouter","Films","FilmsNowplay","FilmsComingsoon","Detail","Cinemas","CinemasSearch","Login","use","routes","path","component","children","redirect","name","meta","iszhuhui","router","beforeEach","to","from","next","localStorage","getItem","console","log","fullPath","query"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,KAAP,MAAkB,mBAAlB;AACA,OAAOC,YAAP,MAAyB,gCAAzB;AACA,OAAOC,eAAP,MAA4B,mCAA5B;AACA,OAAOC,MAAP,MAAmB,oBAAnB;AACA,OAAOC,OAAP,MAAoB,qBAApB;AACA,OAAOC,aAAP,MAA0B,uBAA1B,C,CACA;AAEA;;AACA,OAAOC,KAAP,MAAkB,mBAAlB;AACAR,GAAG,CAACS,GAAJ,CAAQR,SAAR,E,CAAkB;AAElB;;AACA,IAAMS,MAAM,GAAC,CACZ;AACCC,EAAAA,IAAI,EAAC,QADN;AAECC,EAAAA,SAAS,EAACV,KAFX;AAGCW,EAAAA,QAAQ,EAAC,CACR;AACOF,IAAAA,IAAI,EAAC,gBADZ;AAEOC,IAAAA,SAAS,EAACT;AAFjB,GADQ,EAKR;AACIQ,IAAAA,IAAI,EAAC,mBADT;AAEIC,IAAAA,SAAS,EAACR;AAFd,GALQ,EASR;AACCO,IAAAA,IAAI,EAAC,QADN;AAECG,IAAAA,QAAQ,EAAC;AAFV,GATQ;AAHV,CADY,EAmBZ;AAAIC,EAAAA,IAAI,EAAC,cAAT;AACCJ,EAAAA,IAAI,EAAC,aADN;AACoB;AACnBC,EAAAA,SAAS,EAACP;AAFX,CAnBY,EAuBZ;AACCM,EAAAA,IAAI,EAAC,iBADN;AAECC,EAAAA,SAAS,EAACL;AAFX,CAvBY,EA2BZ;AACCI,EAAAA,IAAI,EAAC,UADN;AAECC,EAAAA,SAAS,EAACN;AAFX,CA3BY,EA+BZ;AACCK,EAAAA,IAAI,EAAC,SADN;AAECC,EAAAA,SAAS,EAAC;AAAA,WAAI,OAAO,oBAAP,CAAJ;AAAA,GAFX;AAE4C;AAC3CI,EAAAA,IAAI,EAAC;AACJC,IAAAA,QAAQ,EAAC;AADL,GAHN,CAMC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AAvBD,CA/BY,EAwDZ;AACCN,EAAAA,IAAI,EAAC,QADN;AAECC,EAAAA,SAAS,EAAC;AAAA,WAAI,OAAO,mBAAP,CAAJ;AAAA,GAFX;AAGCI,EAAAA,IAAI,EAAC;AACJC,IAAAA,QAAQ,EAAC;AADL;AAHN,CAxDY,EA+DZ;AACCN,EAAAA,IAAI,EAAC,QADN;AAECC,EAAAA,SAAS,EAACJ;AAFX,CA/DY,EAoEZ;AACCG,EAAAA,IAAI,EAAC,GADN;AAECG,EAAAA,QAAQ,EAAC;AAFV,CApEY,CAAb;AA0EA,IAAMI,MAAM,GAAC,IAAIjB,SAAJ,CAAc;AAC1B;AACAS,EAAAA,MAAM,EAANA;AAF0B,CAAd,CAAb,C,CAIA;;AACAQ,MAAM,CAACC,UAAP,CAAkB,UAACC,EAAD,EAAIC,IAAJ,EAASC,IAAT,EAAgB;AAClC;AACC,MAAGF,EAAE,CAACJ,IAAH,CAAQC,QAAX,EAAoB;AACnB;AACA,QAAGM,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAH,EAAiC;AAChCF,MAAAA,IAAI;AACJ,KAFD,MAEK;AACJG,MAAAA,OAAO,CAACC,GAAR,CAAYN,EAAE,CAACO,QAAf;AACAL,MAAAA,IAAI,CAAC;AACJX,QAAAA,IAAI,EAAC,QADD;AAEJiB,QAAAA,KAAK,EAAC;AAACd,UAAAA,QAAQ,EAACM,EAAE,CAACO;AAAb;AAFF,OAAD,CAAJ;AAIA;AACD,GAXD,MAWK;AACJL,IAAAA,IAAI;AACJ;AAED,CAjBD;AAkBA,eAAeJ,MAAf","sourcesContent":["import Vue from 'vue'\r\nimport VueRouter from 'vue-router'\r\nimport Films from '@/views/Films.vue'\r\nimport FilmsNowplay from '@/views/films/FilmsNowplay.vue'\r\nimport FilmsComingsoon from '@/views/films/FilmsComingsoon.vue'\r\nimport Detail from '@/views/Detail.vue'\r\nimport Cinemas from '@/views/Cinemas.vue'\r\nimport CinemasSearch from '@/views/CinemasSearch'\r\n//import Center from '@/views/Center.vue'\r\n\r\n//import Order from '@/views/Order.vue'\r\nimport Login from '@/views/Login.vue'\r\nVue.use(VueRouter)// 注册路由插件\r\n\r\n//配置表\r\nconst routes=[\r\n\t{\r\n\t\tpath:'/films',\r\n\t\tcomponent:Films,\r\n\t\tchildren:[\r\n\t\t\t{\r\n\t\t        path:'/films/nowplay',\r\n\t\t        component:FilmsNowplay,\r\n\t        },\r\n\t\t\t{\r\n\t\t    \tpath:'/films/comingsoon',\r\n\t\t    \tcomponent:FilmsComingsoon\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath:'/films',\r\n\t\t\t\tredirect:'/films/nowplay'\r\n\t\t\t}\r\n\t\t]\r\n\t},\r\n\t{   name:'zhuhuidetail',\r\n\t\tpath:'/detail/:id',//动态路由\r\n\t\tcomponent:Detail\r\n\t},\r\n\t{\r\n\t\tpath:'/cinemas/search',\r\n\t\tcomponent:CinemasSearch\r\n\t},\r\n\t{\r\n\t\tpath:'/cinemas',\r\n\t\tcomponent:Cinemas\r\n\t},\r\n\t{\r\n\t\tpath:'/center',\r\n\t\tcomponent:()=>import(\"@/views/Center.vue\"),//懒加载\r\n\t\tmeta:{\r\n\t\t\tiszhuhui:true\r\n\t\t},\r\n\t\t//独享路由拦截\r\n\t\t// beforeEnter:(to,from,next)=>{\r\n\t\t// \tif(to.meta.iszhuhui){\r\n\t\t// \t\t// 通过token判断是否以登录\r\n\t\t// \t\tif(localStorage.getItem('token')){\r\n\t\t// \t\t\tnext()\r\n\t\t// \t\t}else{\r\n\t\t// \t\t\t//console.log(to.fullPath)\r\n\t\t// \t\t\tnext({\r\n\t\t// \t\t\t\tpath:'/login',\r\n\t\t// \t\t\t\tquery:{redirect:to.fullPath}\r\n\t\t// \t\t\t})\t\t\r\n\t\t// \t\t}\r\n\t\t// \t}else{\r\n\t\t// \t\tnext()\r\n\t\t// \t}\r\n\t\t\t\r\n\t\t// }\r\n\t},\r\n\t{\r\n\t\tpath:'/order',\r\n\t\tcomponent:()=>import(\"@/views/Order.vue\"),\r\n\t\tmeta:{\r\n\t\t\tiszhuhui:true\r\n\t\t}\r\n\t},\r\n\t{\r\n\t\tpath:'/login',\r\n\t\tcomponent:Login,\r\n\t\t\r\n\t},\r\n\t{\r\n\t\tpath:'*',\r\n\t\tredirect:'/films/nowplay'\r\n\t}\r\n]\r\n\r\nconst router=new VueRouter({\r\n\t//mode:\"history\",\r\n\troutes\r\n})\r\n//全局拦截\r\nrouter.beforeEach((to,from,next)=>{\r\n//\tconsole.log(to)\r\n\tif(to.meta.iszhuhui){\r\n\t\t// 通过token判断是否以登录\r\n\t\tif(localStorage.getItem('token')){\r\n\t\t\tnext()\r\n\t\t}else{\r\n\t\t\tconsole.log(to.fullPath)\r\n\t\t\tnext({\r\n\t\t\t\tpath:'/login',\r\n\t\t\t\tquery:{redirect:to.fullPath}\r\n\t\t\t})\t\t\r\n\t\t}\r\n\t}else{\r\n\t\tnext()\r\n\t}\r\n\t\r\n})\r\nexport default router"]}]}