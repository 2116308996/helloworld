{"remainingRequest":"D:\\前端文件\\学习\\html\\vue\\14单文件组件\\helloworld\\node_modules\\babel-loader\\lib\\index.js!D:\\前端文件\\学习\\html\\vue\\14单文件组件\\helloworld\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\前端文件\\学习\\html\\vue\\14单文件组件\\helloworld\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\前端文件\\学习\\html\\vue\\14单文件组件\\helloworld\\src\\views\\City.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\前端文件\\学习\\html\\vue\\14单文件组件\\helloworld\\src\\views\\City.vue","mtime":1646969265843},{"path":"D:\\前端文件\\学习\\html\\vue\\14单文件组件\\helloworld\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646186516921},{"path":"D:\\前端文件\\学习\\html\\vue\\14单文件组件\\helloworld\\node_modules\\babel-loader\\lib\\index.js","mtime":1646186533210},{"path":"D:\\前端文件\\学习\\html\\vue\\14单文件组件\\helloworld\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646186516921},{"path":"D:\\前端文件\\学习\\html\\vue\\14单文件组件\\helloworld\\node_modules\\vue-loader\\lib\\index.js","mtime":1646186530508}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.filter\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport http from \"../router/http.js\";\nimport { Toast } from 'vant';\nexport default {\n  data: function data() {\n    return {\n      citylist: [],\n      list: [],\n      indexlist: [],\n      hotcity: []\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    http({\n      url: 'gateway?k=8962251',\n      headers: {\n        'X-Host': 'mall.film-ticket.city.list'\n      }\n    }).then(function (res) {\n      _this.list = res.data.data.cities;\n\n      _this.renderCity(_this.list);\n    });\n  },\n  methods: {\n    handleclick: function handleclick(data) {\n      //传统多页面数据传输方案\n      //location.href=\"#/cinemas?cityname=\"+data\n      // cookie,localStorage\n      //单页面方案\n      //中间人模式 bus事件总线 $on $emit\n      console.log(data);\n      this.$store.commit('changeCityName', data.name);\n      this.$store.commit('changeCityId', data.cityId);\n      this.$router.back();\n    },\n    handleChange: function handleChange(data) {\n      //Toast.setDefaultOptions({min-height:50px});\n      Toast(data);\n    },\n    renderCity: function renderCity(list) {\n      var _this2 = this;\n\n      var letterlist = [];\n\n      for (var i = 65; i < 91; i++) {\n        letterlist.push(String.fromCharCode(i));\n      }\n\n      letterlist.forEach(function (letter) {\n        var newlist = list.filter(function (item) {\n          return item.pinyin.substring(0, 1).toUpperCase() == letter;\n        });\n\n        if (newlist.length != 0) {\n          _this2.indexlist.push(letter);\n\n          _this2.citylist.push({\n            type: letter,\n            list: newlist\n          });\n        }\n      });\n      this.hotcity = list.filter(function (item) {\n        return item.isHot == 1;\n      });\n      console.log(this.hotcity);\n    }\n  }\n};",{"version":3,"sources":["City.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAuBA,OAAA,IAAA;AACA,SAAA,KAAA,QAAA,MAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,EADA;AAEA,MAAA,IAAA,EAAA,EAFA;AAGA,MAAA,SAAA,EAAA,EAHA;AAIA,MAAA,OAAA,EAAA;AAJA,KAAA;AAMA,GARA;AASA,EAAA,OATA,qBASA;AAAA;;AACA,IAAA,IAAA,CAAA;AACA,MAAA,GAAA,EAAA,mBADA;AAEA,MAAA,OAAA,EAAA;AACA,kBAAA;AADA;AAFA,KAAA,CAAA,CAKA,IALA,CAKA,UAAA,GAAA,EAAA;AACA,MAAA,KAAA,CAAA,IAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,MAAA;;AACA,MAAA,KAAA,CAAA,UAAA,CAAA,KAAA,CAAA,IAAA;AACA,KARA;AASA,GAnBA;AAoBA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,uBACA,IADA,EACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,IAAA;AACA,WAAA,MAAA,CAAA,MAAA,CAAA,gBAAA,EAAA,IAAA,CAAA,IAAA;AACA,WAAA,MAAA,CAAA,MAAA,CAAA,cAAA,EAAA,IAAA,CAAA,MAAA;AAEA,WAAA,OAAA,CAAA,IAAA;AACA,KAZA;AAaA,IAAA,YAbA,wBAaA,IAbA,EAaA;AACA;AACA,MAAA,KAAA,CAAA,IAAA,CAAA;AACA,KAhBA;AAiBA,IAAA,UAjBA,sBAiBA,IAjBA,EAiBA;AAAA;;AACA,UAAA,UAAA,GAAA,EAAA;;AACA,WAAA,IAAA,CAAA,GAAA,EAAA,EAAA,CAAA,GAAA,EAAA,EAAA,CAAA,EAAA,EAAA;AACA,QAAA,UAAA,CAAA,IAAA,CAAA,MAAA,CAAA,YAAA,CAAA,CAAA,CAAA;AACA;;AACA,MAAA,UAAA,CAAA,OAAA,CAAA,UAAA,MAAA,EAAA;AACA,YAAA,OAAA,GAAA,IAAA,CAAA,MAAA,CAAA,UAAA,IAAA;AAAA,iBAAA,IAAA,CAAA,MAAA,CAAA,SAAA,CAAA,CAAA,EAAA,CAAA,EAAA,WAAA,MAAA,MAAA;AAAA,SAAA,CAAA;;AACA,YAAA,OAAA,CAAA,MAAA,IAAA,CAAA,EAAA;AACA,UAAA,MAAA,CAAA,SAAA,CAAA,IAAA,CAAA,MAAA;;AACA,UAAA,MAAA,CAAA,QAAA,CAAA,IAAA,CAAA;AACA,YAAA,IAAA,EAAA,MADA;AAEA,YAAA,IAAA,EAAA;AAFA,WAAA;AAIA;AACA,OATA;AAUA,WAAA,OAAA,GAAA,IAAA,CAAA,MAAA,CAAA,UAAA,IAAA;AAAA,eAAA,IAAA,CAAA,KAAA,IAAA,CAAA;AAAA,OAAA,CAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,KAAA,OAAA;AACA;AAlCA;AApBA,CAAA","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<div style=\"padding:15px;\">\r\n\t\t\t<div class=\"hotcity\">热门城市</div>\r\n\t\t\t<div class=\"hotcity-flex\">\r\n\t\t\t\t<div v-for=\"item in hotcity\" class=\"hot-city\" @click=\"handleclick(item)\">\r\n\t\t\t\t\t{{item.name}}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<van-index-bar :index-list=\"indexlist\" @select=\"handleChange\">\r\n\t\t\t<div v-for=\"item in citylist\" :key=\"item.type\">\r\n\t\t\t\t<van-index-anchor :index=\"item.type\">{{item.type}}</van-index-anchor>\r\n\t\t\t\t<div v-for=\"data in item.list\" :key=\"data.cityId\">\r\n\t\t\t\t\t<van-cell :title=\"data.name\" @click=\"handleclick(data)\"/>\r\n\t\t\t\t</div> \r\n\t\t\t</div>\r\n\t\t  \r\n\t\t</van-index-bar>\r\n\t</div>\n</template> \n\n<script>\r\n\timport http from '../router/http.js'\r\n\timport {Toast} from 'vant'\r\n\texport default{\r\n\t\tdata(){\r\n\t\t\treturn{\r\n\t\t\t\tcitylist:[],\r\n\t\t\t\tlist:[],\r\n\t\t\t\tindexlist:[],\r\n\t\t\t\thotcity:[]\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted(){\r\n\t\t\thttp({\r\n\t\t\t\turl:'gateway?k=8962251',\r\n\t\t\t\theaders:{\r\n\t\t\t\t\t'X-Host':'mall.film-ticket.city.list'\r\n\t\t\t\t}\r\n\t\t\t}).then(res=>{\r\n\t\t\t\tthis.list=res.data.data.cities\r\n\t\t\t\tthis.renderCity(this.list)\r\n\t\t\t})\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\thandleclick(data){\r\n\t\t\t\t//传统多页面数据传输方案\r\n\t\t\t\t//location.href=\"#/cinemas?cityname=\"+data\r\n\t\t\t\t// cookie,localStorage\r\n\t\t\t\t//单页面方案\r\n\t\t\t\t//中间人模式 bus事件总线 $on $emit\r\n\t\t\t\tconsole.log(data)\r\n\t\t\t\tthis.$store.commit('changeCityName',data.name)\r\n\t\t\t\tthis.$store.commit('changeCityId',data.cityId)\r\n\t\t\t\t\r\n\t\t\t\tthis.$router.back()\r\n\t\t\t},\r\n\t\t\thandleChange(data){\r\n\t\t\t\t//Toast.setDefaultOptions({min-height:50px});\r\n\t\t\t\tToast(data);\r\n\t\t\t},\r\n\t\t\trenderCity(list){\r\n\t\t\t\tvar letterlist=[]\r\n\t\t\t\tfor(let i=65;i<91;i++){\r\n\t\t\t\t\tletterlist.push(String.fromCharCode(i))\t\r\n\t\t\t\t}\r\n\t\t\t\tletterlist.forEach(letter=>{\r\n\t\t\t\t\tvar newlist= list.filter(item=>item.pinyin.substring(0,1).toUpperCase()==letter)\r\n\t\t\t\t\tif(newlist.length!=0){\r\n\t\t\t\t\t\tthis.indexlist.push(letter)\r\n\t\t\t\t\t\tthis.citylist.push({\r\n\t\t\t\t\t\ttype:letter,\r\n\t\t\t\t\t\tlist:newlist\r\n\t\t\t\t\t    })\r\n\t\t\t\t\t}\t\r\n\t\t\t\t})\t \r\n\t\t\t\tthis.hotcity=list.filter(item=>item.isHot==1)\r\n\t\t\t\tconsole.log(this.hotcity)\r\n\t\t\t}\r\n\t\t}\r\n\t}\n</script>\n\n<style>\r\n\t.van-toast--text{\r\n\t\tmin-width: 30px;\r\n\t}\r\n\t.hotcity-flex{\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: wrap;\r\n\t}\r\n\t.hot-city{\r\n\t\twidth: 95px;\r\n\t\theight: 30px;\r\n\t\tline-height: 30px;\r\n\t\tmargin: 10px;\r\n\t\tbackground-color: gainsboro;\r\n\t\ttext-align: center;\r\n\t}\r\n\t.hotcity{\r\n\t\tfont-size: 13px;\r\n\t\tcolor: grey;\r\n\t}\n</style>\n"],"sourceRoot":"src/views"}]}